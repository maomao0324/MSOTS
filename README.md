# 卫星调度MAPPO项目

基于多智能体近端策略优化（MAPPO）算法的卫星观测任务调度系统。

## 文件说明

### `main.py`
程序入口文件，负责：
- 数据文件合并（时间窗口和目标数据）
- 创建卫星和任务对象
- 初始化环境和智能体
- 启动训练流程
- 保存训练好的模型

### `utils.py`
工具函数模块，包含：
- `set_seed()`: 设置随机种子
- `to_device()`: 数据设备转换（CPU/GPU）
- `merge_csv_files()`: 合并CSV数据文件

### `task.py`
任务类定义：
- `Task`: 表示单个观测任务，包含任务属性、时间窗口、观测状态等

### `networks.py`
神经网络模型定义：
- `Actor`: 策略网络，用于动作选择
- `FCCritic`: 价值网络，用于状态价值估计

### `agent.py`
智能体相关类：
- `Agent`: 智能体类，包含策略网络和价值网络，负责动作选择
- `ReplayBuffer`: 经验回放缓冲区，用于存储训练数据

### `environment.py`
环境模拟模块：
- `Satellite`: 卫星类，管理卫星状态和任务执行
- `SatelliteSchedulingEnv`: 卫星调度环境，实现环境交互逻辑

### `training.py`
训练相关函数：
- `train_mappo()`: MAPPO训练主函数
- `compute_gae()`: 计算广义优势估计（GAE）

## 使用方法

1. 准备数据文件
2. 运行训练：`python main.py`
3. 训练过程中会输出每回合的观测完成率、均匀性MSE和时效性
4. 训练完成后模型保存在 `models1/` 目录

## 输出指标

- **观测完成率**
- **均匀性MSE**: 观测时间间隔的均方误差
- **时效性**: 满足时效性要求的任务比例

